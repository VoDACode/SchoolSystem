<app-nav-menu></app-nav-menu>
<main>
    <div class="container">
        <h1>Предмети</h1>
        <div class="header">
            <div>
                <input type="text" placeholder="Пошук" (change)="search()" [(ngModel)]="searchText" />
                <button (click)="search()">Пошук</button>
            </div>
            <div class="create-and-navigation">
                <div>
                    <button type="button" class="btn btn-outline-primary" (click)="addNew()">Додати новий
                        предмет</button>
                </div>
            </div>
        </div>
        <table class="table">
            <thead>
                <tr>
                    <th scope="col">Назва</th>
                    <th scope="col"></th>
                </tr>
            </thead>
            <tbody>
                <tr *ngFor="let discipline of disciplines">
                    <td>{{discipline.disciplineFullName}}</td>
                    <td class="actions">
                        <button type="button" class="btn btn-outline-primary"
                            (click)="edit(discipline)">Редагувати</button>
                        <button type="button" class="btn btn-outline-danger"
                            (click)="delete(discipline)">Видалити</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</main>

<jw-modal [id]="'add-or-edit-discipline'">
    <div class="modal-body">
        <div class="form-group">
            <label for="code">Коротка назва</label>
            <input *ngIf="!editMode" type="text" class="form-control" id="code" placeholder="Коротка назва"
                [(ngModel)]="discipline.disciplineCode">
            <input *ngIf="editMode" type="text" class="form-control" id="code" placeholder="Коротка назва"
                value="{{discipline.disciplineCode}}" disabled>
        </div>
        <div class="form-group">
            <label for="name">Повна назва</label>
            <input type="text" class="form-control" id="name" placeholder="Назва" [(ngModel)]="discipline.disciplineFullName">
        </div>
    </div>
    <div class="modal-footer">
        <button type="button" class="btn btn-outline-primary" (click)="save()">Зберегти</button>
        <button type="button" class="btn btn-outline-danger" (click)="closeModal()">Відмінити</button>
    </div>
</jw-modal>